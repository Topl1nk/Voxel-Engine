<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voxel Engine</title>
    <link rel="stylesheet" href="css/style.css">
    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
            }
        }
    </script>
</head>
<body>
    <div id="ui-layer" class="hud">
        <div class="hud-card hud-card-primary">
            <div class="hud-row">
                <div class="hud-stat">
                    <span class="hud-label">FPS</span>
                    <span class="hud-value" id="fps-counter">0</span>
                </div>
                <span class="hud-divider"></span>
                <div class="hud-stat">
                    <span class="hud-label">–ß–∞–Ω–∫–∏</span>
                    <span class="hud-value" id="chunk-count">0</span>
                </div>
            </div>
            <div class="hud-row">
                <div class="hud-stat hud-stat-wide">
                    <span class="hud-label">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã</span>
                    <span class="hud-value" id="coords">0, 0, 0</span>
                </div>
            </div>
            <div class="hud-row">
                <div class="hud-stat hud-stat-wide">
                    <span class="hud-label">–í—ã–±—Ä–∞–Ω –±–ª–æ–∫</span>
                    <span class="hud-value" id="block-name">Stone</span>
                </div>
            </div>
        </div>
        <div class="hud-card hud-card-status">
            <span class="hud-label">–°—Ç–∞—Ç—É—Å</span>
            <span class="hud-value hud-status" id="status-text" data-state="pause">–ü–ê–£–ó–ê</span>
        </div>
        <div class="hud-card hud-card-sky">
            <span class="hud-label">–ù–µ–±–æ</span>
            <span class="hud-value" id="sky-info">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
        </div>
    </div>
    
    <div id="crosshair"></div>
    
    <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É -->
    <button id="settings-btn" class="settings-button" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1m15.364-4.636l-4.243 4.243m0 4.243l4.243 4.243M4.636 4.636l4.243 4.243m0 4.243l-4.243 4.243"></path>
        </svg>
    </button>
    
    <div id="menu-overlay">
        <div class="menu-content">
            <h1>VOXEL ENGINE</h1>
            <p class="menu-subtitle">Voxel World</p>
            <div class="menu-buttons">
                <button id="start-btn" class="ui-btn primary">RESUME GAME</button>
                <button id="settings-menu-btn" class="ui-btn secondary">–ù–ê–°–¢–†–û–ô–ö–ò</button>
            </div>
        </div>
    </div>

    <!-- –ú–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div id="settings-overlay" class="ui-overlay settings-overlay">
        <div class="ui-content settings-content">
            <div class="ui-header settings-header">
                <h2>–ù–ê–°–¢–†–û–ô–ö–ò</h2>
                <button id="settings-close-btn" class="ui-close-btn">√ó</button>
            </div>
            
            <div class="ui-body settings-body">
                <!-- –ì—Ä–∞—Ñ–∏–∫–∞ -->
                <div class="settings-section">
                    <h3>–ì—Ä–∞—Ñ–∏–∫–∞</h3>
                    
                    <div class="setting-item">
                        <label>
                            <span>–°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ (Antialiasing)</span>
                            <input type="checkbox" id="setting-antialiasing" class="setting-checkbox">
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <span>–¢–µ–Ω–∏</span>
                            <input type="checkbox" id="setting-shadows" class="setting-checkbox">
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <span>–ö–∞—á–µ—Å—Ç–≤–æ —Ç–µ–Ω–µ–π</span>
                            <select id="setting-shadow-quality" class="setting-select">
                                <option value="0">–ù–∏–∑–∫–æ–µ</option>
                                <option value="1">–°—Ä–µ–¥–Ω–µ–µ</option>
                                <option value="2" selected>–í—ã—Å–æ–∫–æ–µ</option>
                            </select>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <span>–î–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—Ä–∏—Å–æ–≤–∫–∏: <span id="render-distance-value">6</span></span>
                            <input type="range" id="setting-render-distance" class="setting-slider" min="3" max="12" value="6" step="1">
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <span>–¢—É–º–∞–Ω</span>
                            <input type="checkbox" id="setting-fog" class="setting-checkbox">
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <span>VSync</span>
                            <input type="checkbox" id="setting-vsync" class="setting-checkbox">
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <span>Pixel Ratio: <span id="pixel-ratio-value">2</span></span>
                            <input type="range" id="setting-pixel-ratio" class="setting-slider" min="1" max="3" value="2" step="1">
                        </label>
                    </div>

                    <div class="setting-item">
                        <label>
                            <span>–≠–∫—Å–ø–æ–∑–∏—Ü–∏—è: <span id="tone-mapping-value">1.10</span></span>
                            <input type="range" id="setting-tone-mapping" class="setting-slider" min="0.5" max="2.0" value="1.1" step="0.05">
                        </label>
                    </div>

                    <div class="setting-item">
                        <label>
                            <span>–î–∏—Å—Ç–∞–Ω—Ü–∏—è —Ç–µ–Ω–µ–π: <span id="shadow-distance-value">140</span></span>
                            <input type="range" id="setting-shadow-distance" class="setting-slider" min="40" max="240" value="140" step="10">
                        </label>
                    </div>

                    <div class="setting-item">
                        <label>
                            <span>–ú—è–≥–∫–∏–µ —Ç–µ–Ω–∏</span>
                            <input type="checkbox" id="setting-soft-shadows" class="setting-checkbox" checked>
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>–û—Å–≤–µ—â–µ–Ω–∏–µ</h3>

                    <div class="setting-item">
                        <label>
                            <span>–Ø—Ä–∫–æ—Å—Ç—å —Å–æ–ª–Ω—Ü–∞: <span id="sun-intensity-value">1.35</span></span>
                            <input type="range" id="setting-sun-intensity" class="setting-slider" min="0.5" max="2.5" value="1.35" step="0.05">
                        </label>
                    </div>

                    <div class="setting-item">
                        <label>
                            <span>–û–∫—Ä—É–∂–∞—é—â–∏–π —Å–≤–µ—Ç: <span id="ambient-intensity-value">0.32</span></span>
                            <input type="range" id="setting-ambient-intensity" class="setting-slider" min="0.1" max="1.0" value="0.32" step="0.02">
                        </label>
                    </div>
                </div>
                
                <!-- –û–±–ª–∞–∫–∞ -->
                <!-- –ó–≤—É–∫ -->
                <div class="settings-section">
                    <h3>–ó–≤—É–∫</h3>
                    
                    <div class="setting-item">
                        <label>
                            <span>–í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫</span>
                            <input type="checkbox" id="setting-sound-enabled" class="setting-checkbox">
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <span>–û–±—â–∞—è –≥—Ä–æ–º–∫–æ—Å—Ç—å: <span id="master-volume-value">100</span>%</span>
                            <input type="range" id="setting-master-volume" class="setting-slider" min="0" max="100" value="100" step="1">
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <span>–ì—Ä–æ–º–∫–æ—Å—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–æ–≤: <span id="sfx-volume-value">100</span>%</span>
                            <input type="range" id="setting-sfx-volume" class="setting-slider" min="0" max="100" value="100" step="1">
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <span>–ì—Ä–æ–º–∫–æ—Å—Ç—å –º—É–∑—ã–∫–∏: <span id="music-volume-value">50</span>%</span>
                            <input type="range" id="setting-music-volume" class="setting-slider" min="0" max="100" value="50" step="1">
                        </label>
                    </div>
                </div>
                
                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
                <div class="settings-section">
                    <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h3>
                    
                    <div class="setting-item">
                        <label>
                            <span>–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º—ã—à–∏: <span id="mouse-sensitivity-value">1.0</span></span>
                            <input type="range" id="setting-mouse-sensitivity" class="setting-slider" min="0.1" max="3.0" value="1.0" step="0.1">
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <span>–ü–æ–ª–µ –∑—Ä–µ–Ω–∏—è (FOV): <span id="fov-value">75</span></span>
                            <input type="range" id="setting-fov" class="setting-slider" min="60" max="110" value="75" step="5">
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <span>–ü–æ–∫–∞—á–∏–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã –ø—Ä–∏ —Ö–æ–¥—å–±–µ</span>
                            <input type="checkbox" id="setting-bobbing" class="setting-checkbox">
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <span>–°–∫–æ—Ä–æ—Å—Ç—å –≤—Ä–µ–º–µ–Ω–∏: <span id="time-speed-value">1.00</span>x</span>
                            <input type="range" id="setting-time-speed" class="setting-slider" min="0" max="5" value="1.0" step="0.1">
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>–ö–ª–∞–≤–∏—à–∏</h3>
                    <div class="keybind-list">
                        <div class="keybind-item">
                            <span>–í–ø–µ—Ä—ë–¥</span>
                            <button class="ui-btn tertiary keybind-btn" data-keybind="moveForward">W</button>
                        </div>
                        <div class="keybind-item">
                            <span>–ù–∞–∑–∞–¥</span>
                            <button class="ui-btn tertiary keybind-btn" data-keybind="moveBackward">S</button>
                        </div>
                        <div class="keybind-item">
                            <span>–í–ª–µ–≤–æ</span>
                            <button class="ui-btn tertiary keybind-btn" data-keybind="moveLeft">A</button>
                        </div>
                        <div class="keybind-item">
                            <span>–í–ø—Ä–∞–≤–æ</span>
                            <button class="ui-btn tertiary keybind-btn" data-keybind="moveRight">D</button>
                        </div>
                        <div class="keybind-item">
                            <span>–ü—Ä—ã–∂–æ–∫</span>
                            <button class="ui-btn tertiary keybind-btn" data-keybind="jump">Space</button>
                        </div>
                        <div class="keybind-item">
                            <span>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</span>
                            <button class="ui-btn tertiary keybind-btn" data-keybind="inventory">E</button>
                        </div>
                        <div class="keybind-item">
                            <span>–ë–µ–≥</span>
                            <button class="ui-btn tertiary keybind-btn" data-keybind="sprint">Shift</button>
                        </div>
                        <div class="keybind-item">
                            <span>–ü—Ä–∏—Å–µ—Å—Ç—å</span>
                            <button class="ui-btn tertiary keybind-btn" data-keybind="crouch">Ctrl</button>
                        </div>
                        <div class="keybind-item">
                            <span>HUD</span>
                            <button class="ui-btn tertiary keybind-btn" data-keybind="toggleHUD">P</button>
                        </div>
                    </div>
                </div>
                
                <!-- –û–±–ª–∞–∫–∞ -->
                <div class="settings-section">
                    <h3>‚òÅÔ∏è –û–±–ª–∞–∫–∞</h3>
                    
                    <div class="setting-item">
                        <label>
                            <span>–ü–æ–∫—Ä—ã—Ç–∏–µ –æ–±–ª–∞–∫–∞–º–∏: <span id="cloud-coverage-value">20%</span></span>
                            <input type="range" id="setting-cloud-coverage" class="setting-slider" min="0" max="0.8" value="0.20" step="0.05">
                        </label>
                    </div>
                </div>
                
                <!-- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å -->
                <div class="settings-section">
                    <h3>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h3>
                    
                    <div class="setting-item">
                        <label>
                            <span>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ FPS: <span id="max-fps-value">0</span> (0 = –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)</span>
                            <input type="range" id="setting-max-fps" class="setting-slider" min="0" max="144" value="0" step="1">
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <span>–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —á–∞–Ω–∫–æ–≤: <span id="chunk-load-speed-value">2</span></span>
                            <input type="range" id="setting-chunk-load-speed" class="setting-slider" min="1" max="5" value="2" step="1">
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="ui-footer settings-footer">
                <button id="settings-reset-btn" class="ui-btn secondary">–°–±—Ä–æ—Å–∏—Ç—å</button>
                <button id="settings-apply-btn" class="ui-btn primary">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Hotbar (—Ä—É–∫–∏) -->
    <div id="hotbar" class="ui-hotbar"></div>

    <!-- –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å -->
    <div id="inventory-overlay" class="ui-overlay">
        <div class="ui-content inventory-content-wrapper">
            <div class="ui-header">
                <h2>üì¶ –ò–ù–í–ï–ù–¢–ê–†–¨</h2>
                <button id="inventory-close-btn" class="ui-close-btn">√ó</button>
            </div>
            
            <div class="ui-body">
                <div id="inventory-grid" class="ui-grid"></div>
            </div>
            
        </div>
    </div>

    <script type="module" src="js/app.js"></script>
</body>
</html>

